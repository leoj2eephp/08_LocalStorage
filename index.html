<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Local Storage</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
        <div class="col">
          <label for="nombre">Nombre</label>
          <input type="text" id="nombre" class="form-control" />
        </div>
        <div class="col">
          <label for="apellido">Apellido</label>
          <input type="text" id="apellido" class="form-control" />
        </div>
        <div class="col">
          <label for="ciudad">Ciudad</label>
          <input type="text" id="ciudad" class="form-control" />
        </div>
        <div class="col">
          <label for="beca">Beca</label>
          <input type="checkbox" id="beca" />
        </div>
        <div class="col">
            <button id="guardar" class="btn btn-primary">Guardar Datos</button>
        </div>

        <table class="table">
            <thead>
                <tr>
                    <th>NOMBRE</th>
                    <th>APELLIDO</th>
                    <th>CIUDAD</th>
                    <th>BECA</th>
                </tr>
            </thead>
            <tbody id="cuerpoTabla">
                <!-- Agregar la fila por JS -->
            </tbody>
        </table>
    </div>
    <!-- EJERCICIO!!
    Tomar todos los datos del formulario y guardarlos en localStorage al pulsar
    el botón guardar -->
    <script>
        const nombre = document.querySelector("#nombre")
        const apellido = document.querySelector("#apellido")
        const ciudad = document.querySelector("#ciudad")
        const beca = document.querySelector("#beca")
        const guardar = document.querySelector("#guardar")
        const cuerpoTabla = document.querySelector("#cuerpoTabla")

        guardar.addEventListener("click", function() {
            localStorage.setItem("nombre", nombre.value)
            localStorage.setItem("apellido", apellido.value)
            localStorage.setItem("ciudad", ciudad.value)
            if (beca.checked) localStorage.setItem("beca", "Sí")
            else localStorage.setItem("beca", "No")
            // Si dejamos vacío el String de innerHTML de un elemento, lo que vamos a lograr
            // es borrar TODO el contenido de ese elemento HTML
            cuerpoTabla.innerHTML = ""

            const fila = document.createElement("tr")
            cuerpoTabla.appendChild(fila)
            
            const tdNom = document.createElement("td")
            tdNom.innerText = "Juanito"
            const tdApe = document.createElement("td")
            tdApe.innerText = "Cisterna"
            const tdCiu = document.createElement("td")
            tdCiu.innerText = "Maipú"
            const tdBeca = document.createElement("td")
            tdBeca.innerText = "No"

            fila.appendChild(tdNom)
            fila.appendChild(tdApe)
            fila.appendChild(tdCiu)
            fila.appendChild(tdBeca)
        })
    </script>
  </body>
</html>
